(this["webpackJsonpstar-wars"]=this["webpackJsonpstar-wars"]||[]).push([[0],{26:function(e,t,n){e.exports=n(36)},36:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(12),o=n.n(c);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var s=n(55),l=n(56),u=n(52),i=n(22),m=n(58),f=Object(i.a)((function(e){return Object(m.a)({wrapper:{color:e.palette.background.default,backgroundColor:e.palette.text.primary,width:"fit-content",padding:"1rem 3rem",margin:"2rem auto",textAlign:"center",boxShadow:e.shadows[15]},heading:{margin:0},highlight:{margin:0,padding:0}})})),p=function(e){var t=e.heading,n=void 0===t?"Star Wars":t,a=e.highlight,c=void 0===a?"The never-ending battle":a,o=f();return r.a.createElement("header",{className:o.wrapper},r.a.createElement("h1",{className:o.heading},n),r.a.createElement("h4",{className:o.highlight},c))},h=n(10),g=n.n(h),d=n(11),b=function(e,t){return"number"===typeof e&&"number"===typeof t?Math.floor(Math.random()*(t-e+1)+e):0},E={API_ROOT:"https://swapi.co/api",MAX_RETRIES:5,MIN_ID:1,MAX_ID:37},w=function(){var e,t,n,a,r;return g.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:e=!1,t=0,n={};case 3:if(e||!(t<E.MAX_RETRIES)){c.next=12;break}return a=b(E.MIN_ID,E.MAX_ID),c.next=7,g.a.awrap(fetch("".concat(E.API_ROOT,"/starships/").concat(a,"/?format=json")));case 7:n=c.sent,e=200===n.status,t++,c.next=3;break;case 12:if(e||!(t>=E.MAX_RETRIES)){c.next=14;break}return c.abrupt("return",0);case 14:return c.next=16,g.a.awrap(n.json());case 16:return r=c.sent,c.abrupt("return",{name:r.name,model:r.model,passengers:Number(r.passengers),crew:Number(r.crew)});case 18:case"end":return c.stop()}}))},y=function(e,t){return"number"!==typeof e||"number"!==typeof t?0:e>t?1:t>e?2:0},x=function(e){return"object"===typeof e&&"string"===typeof e.name&&"string"===typeof e.model&&"number"===typeof e.crew&&"number"===typeof e.passengers},j=n(57),v=function(e){if("function"!==typeof e.handleRefresh)return null;return r.a.createElement(u.a,{container:!0,direction:"row",justify:"center",alignItems:"center"},r.a.createElement(u.a,{item:!0},r.a.createElement("h2",null,"Results:"),"number"===typeof e.scoreFirst&&r.a.createElement("p",null,"Player 1: ",e.scoreFirst),"number"===typeof e.scoreSecond&&r.a.createElement("p",null,"Player 2: ",e.scoreSecond),(1===e.winner||2===e.winner)&&r.a.createElement("h4",null,"Player ",e.winner," won!"),0===e.winner&&r.a.createElement("h4",null,"Tie!"),r.a.createElement(j.a,{onClick:function(t){t.preventDefault(),e.handleRefresh()},variant:"contained",color:"primary"},"Try again")))},O=n(59),k=n(53),I=n(54),S=function(e){return x?r.a.createElement(O.a,null,r.a.createElement(k.a,null,r.a.createElement(I.a,{color:"textSecondary",gutterBottom:!0},e.model),r.a.createElement(I.a,{gutterBottom:!0,variant:"h5",component:"h2"},e.name),r.a.createElement("p",null,"Passengers: ",e.passengers),r.a.createElement("p",null,"Crew: ",e.crew))):null},R=function(e){var t=e.text;return t?r.a.createElement(u.a,{item:!0,xs:12},r.a.createElement(I.a,{align:"center"},t)):null},A=function(){var e=Object(a.useState)(!1),t=Object(d.a)(e,2),n=t[0],c=t[1],o=Object(a.useState)(!1),s=Object(d.a)(o,2),l=s[0],i=s[1],m=Object(a.useState)(),f=Object(d.a)(m,2),p=f[0],h=f[1],b=Object(a.useState)(0),E=Object(d.a)(b,2),j=E[0],O=E[1],k=Object(a.useState)(0),I=Object(d.a)(k,2),A=I[0],_=I[1],M=Object(a.useState)([]),P=Object(d.a)(M,2),T=P[0],N=P[1],F=function(){var e,t,n,a,r;return g.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:for(i(!1),c(!0),e=[],t=function(){var t;return g.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,g.a.awrap(w());case 2:"object"===typeof(t=n.sent)&&e.push(t),0===t&&(i(!0),N([]));case 5:case"end":return n.stop()}}))},n=[],a=0;a<2;a++)n.push(t());return o.next=8,g.a.awrap(Promise.all(n));case 8:if(c(!1),!(Array.isArray(e)&&2===e.length&&x(e[0])&&x(e[1]))){o.next=23;break}r=y(e[0].crew,e[1].crew),o.t0=r,o.next=0===o.t0?14:1===o.t0?17:2===o.t0?19:21;break;case 14:return O((function(e){return e+1})),_((function(e){return e+1})),o.abrupt("break",21);case 17:return O((function(e){return e+1})),o.abrupt("break",21);case 19:return _((function(e){return e+1})),o.abrupt("break",21);case 21:h(r),N(e);case 23:case"end":return o.stop()}}))};return Object(a.useEffect)((function(){F()}),[]),r.a.createElement(u.a,{container:!0,justify:"center",alignItems:"center",spacing:3},r.a.createElement(v,{handleRefresh:F,winner:p,scoreFirst:j,scoreSecond:A}),!l&&!n&&2===T.length&&x(T[0])&&x(T[1])&&r.a.createElement(r.a.Fragment,null,T.map((function(e,t){return r.a.createElement(u.a,{item:!0,xs:12,md:5,key:"".concat(e.name,"_").concat(t)},r.a.createElement("h2",null,"Player ",t+1,":"),r.a.createElement(S,{name:e.name,model:e.model,passengers:e.passengers,crew:e.crew}))}))),n&&r.a.createElement(R,{text:"Fetching..."}),!n&&l&&r.a.createElement(R,{text:"Error fetching data from the API - try again..."}))},_=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(s.a,null),r.a.createElement(p,{heading:"Star Wars",highlight:"Battle for galaxy"}),r.a.createElement(l.a,null,r.a.createElement(u.a,{container:!0,direction:"row",justify:"center",alignItems:"center"},r.a.createElement(A,null))))};o.a.render(r.a.createElement(_,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[26,1,2]]]);
//# sourceMappingURL=main.de489d8c.chunk.js.map